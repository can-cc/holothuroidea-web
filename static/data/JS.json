{"name":"JS","path":"source/JS","articles":[{"content":"<pre><code class=\"javascript\">format: function&#40;date, format&#41; {\n    if &#40;format === undefined&#41; {\n        format = date;\n        date = new Date&#40;&#41;;\n    }\n\n    var map = {\n        &quot;M&quot;: date.getMonth&#40;&#41; + 1, //月份 \n        &quot;d&quot;: date.getDate&#40;&#41;, //日 \n        &quot;h&quot;: date.getHours&#40;&#41;, //小时 \n        &quot;m&quot;: date.getMinutes&#40;&#41;, //分 \n        &quot;s&quot;: date.getSeconds&#40;&#41;, //秒 \n        &quot;q&quot;: Math.floor&#40;&#40;date.getMonth&#40;&#41; + 3&#41; / 3&#41;, //季度 \n        &quot;S&quot;: date.getMilliseconds&#40;&#41; //毫秒 \n    };\n    format = format.replace&#40;/&#40;&#91;yMdhmsqS&#93;&#41;+/g, function&#40;all, t&#41; {\n        var v = map&#91;t&#93;;\n        if &#40;v !== undefined&#41; {\n            if &#40;all.length &gt; 1&#41; {\n                v = '0' + v;\n                v = v.substr&#40;v.length - 2&#41;;\n            }\n            return v;\n        } else if &#40;t === 'y'&#41; {\n            return &#40;date.getFullYear&#40;&#41; + ''&#41;.substr&#40;4 - all.length&#41;;\n        }\n        return all;\n    }&#41;;\n    return format;\n}\n</code></pre>","date":"2016-03-22 16:21:14","tag":"","title":"Date"},{"content":"<p>canvas 在页面加载的时候会阻塞一会，原因不明，与 onload 事件 无关在， chrome上的表现是加载的时候绘制了一小块，阻塞个一秒又开始绘制</p>","date":"2016-01-31 17:39:40","tag":"","title":"canvas在页面加载时候的阻塞"},{"content":"<p>canvas 的高宽如果用css定的话貌似没有问题，但是一旦用 drawImage 这个 api 的时候就会出现问题，画出来的图片会变形，铺满屏幕。</p>","date":"2016-04-09 06:37:46","tag":"","title":"canvas的高宽不能用css定"},{"content":"","date":"2016-04-23 15:51:48","tag":"","title":"console是异步的"},{"content":"","date":"2016-07-9 16:21:14","tag":"","title":" ES6 的 promise 不能用箭头函数"},{"content":"<p>http 规范 header 大小写不敏感 fetch 规范 header key 要用 lowercase fetch api 会自动转换成小些</p>","date":"2016-07-10 16:21:14","tag":"","title":" http 和 fetch header 规范"},{"content":"<p>js 调用 cordova 插件，调用微博分享，由于卡住了，webview 自动把 click 事件再触发一次</p>","date":"2016-03-29 08:07:51","tag":"","title":"js click事件卡住会掉两次"},{"content":"<p>深渊巨坑，在面向对象编程中 requestAnimationFrame 的函数必须 绑定 this，不然获取不了函数的 this</p>","date":"2016-03-03 17:13:52","tag":"","title":"requestAnimationFrame 绑定 this"},{"content":"","date":"2016-04-23 15:52:12","tag":"","title":"vue的ready并不是domcument loaded"},{"content":"<p>zepto ajax 的option method 不是 method， 是type，尼玛，害死人</p>","date":"2016-01-25 07:38:08","tag":"","title":"zepto $.ajax 的method是type"},{"content":"<p>遇到复杂的交互控制页面子元素 show hide 问题宜使用设计模式解决。</p>","date":"2016-01-18 10:00:14","tag":"","title":"一个页面中的show-hide问题"},{"content":"","date":"2016-05-08 16:50:40","tag":"","title":"判断数组是否没值不能用 if (array)"},{"content":"<p>注意模块化，或者足够小只写一个文件，不要在一个文件里面写几个 closure </p>","date":"2016-01-18 09:58:16","tag":"","title":"小项目也要注意模块化"},{"content":"<p>移动端js性能是硬伤，使用过多的 setTimeout 或者 setInteral 会卡帧，应该使用 css 来实现效果</p>","date":"2016-01-17 13:22:20","tag":"","title":"移动端不要设置过多timer"}]}